# –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

## ‚úÖ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –í–µ—Ä—Å–∏—è –≤ requirements.txt | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|------------|---------------------------|--------|------------|
| **Flask** | 3.1.2 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ | –ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è |
| **Flask-SQLAlchemy** | 3.1.1 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ | –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å SQLAlchemy 2.0 |
| **SQLAlchemy** | 2.0.43 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ | –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è 2.0.x |
| **Flask-Login** | 0.6.3 | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –≤ requirements.txt |
| **python-dateutil** | 2.9.0 | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –≤ requirements.txt |
| **PyMySQL** | 1.1.2 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ | –°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è |
| **python-dotenv** | 1.1.1 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ | –°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è |
| **Werkzeug** | 3.1.3 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ | –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å Flask 3.1.2 |
| **cryptography** | 46.0.1 | ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–æ | –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è |

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### SQLAlchemy 2.0

–ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Å—Ç–∞—Ä—ã–π —Å—Ç–∏–ª—å –∑–∞–ø—Ä–æ—Å–æ–≤** Flask-SQLAlchemy (`Model.query`), –∫–æ—Ç–æ—Ä—ã–π:
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è** –≤ Flask-SQLAlchemy 3.x
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** —Å SQLAlchemy 2.0
- ‚ö†Ô∏è **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–æ–≤—ã–π —Å—Ç–∏–ª—å SQLAlchemy 2.0 (`select()`)

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ:**
```python
# –¢–µ–∫—É—â–∏–π —Å—Ç–∏–ª—å (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
Equipment.query.filter_by(active=True).all()
db.session.query(Equipment).filter_by(active=True).all()

# –ù–æ–≤—ã–π —Å—Ç–∏–ª—å SQLAlchemy 2.0 (–¥–ª—è –±—É–¥—É—â–µ–π –º–∏–≥—Ä–∞—Ü–∏–∏)
from sqlalchemy import select
db.session.execute(select(Equipment).where(Equipment.active == True)).scalars().all()
```

### Flask 3.1.2

- ‚úÖ –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ API –∞–∫—Ç—É–∞–ª—å–Ω—ã
- ‚úÖ `app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False` - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@login_required` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### Flask-Login 0.6.3

- ‚úÖ `UserMixin` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ `get_id()` –º–µ—Ç–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –º–æ–¥–µ–ª–∏ `Users`
- ‚úÖ `login_manager` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìã –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ requirements.txt

### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

1. **Flask-Login==0.6.3**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: `app.py`, `models.py`
   - –ò–º–ø–æ—Ä—Ç—ã: `from flask_login import LoginManager, login_user, logout_user, login_required, current_user`
   - –ú–æ–¥–µ–ª—å: `Users(db.Model, UserMixin)`

2. **python-dateutil==2.9.0**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: `app.py`
   - –ò–º–ø–æ—Ä—Ç: `from dateutil.relativedelta import relativedelta`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: —Ä–∞—Å—á–µ—Ç –¥–∞—Ç –æ–∫–æ–Ω—á–∞–Ω–∏—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∏ —Å—Ä–æ–∫–∞ —Å–ª—É–∂–±—ã

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –Ω–æ–≤—ã–π —Å—Ç–∏–ª—å SQLAlchemy 2.0 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–¢–µ–∫—É—â–∏–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–π —Å—Ç–∏–ª—å, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:

```python
# –í–º–µ—Å—Ç–æ:
Equipment.query.filter_by(active=True).all()

# –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
from sqlalchemy import select
stmt = select(Equipment).where(Equipment.active == True)
db.session.execute(stmt).scalars().all()
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –≠—Ç–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ Flask-SQLAlchemy 3.x –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ —Å—Ç–∏–ª—è.

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ type hints (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –¥–ª—è –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ IDE:

```python
from typing import Optional, List

def get_equipment(equipment_id: int) -> Optional[Equipment]:
    return Equipment.query.get(equipment_id)
```

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ö–æ–¥ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º** —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫:
- –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ API –∞–∫—Ç—É–∞–ª—å–Ω—ã
- –ù–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –º–µ—Ç–æ–¥–æ–≤
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ requirements.txt
- –í–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã

## üîÑ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install --upgrade -r requirements.txt
   ```

2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ changelog –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º:**
   - Flask: https://flask.palletsprojects.com/changes/
   - SQLAlchemy: https://docs.sqlalchemy.org/en/20/changelog/
   - Flask-SQLAlchemy: https://flask-sqlalchemy.palletsprojects.com/changes/

3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
   - –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
   - –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

## üìÖ –ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞

- –î–∞—Ç–∞: 2025-01-XX
- Python –≤–µ—Ä—Å–∏—è: 3.8+
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã ‚úÖ

